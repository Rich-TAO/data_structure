<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>链表</title>
</head>

<body>
    <script>
        //链表类
        var linkedList = function () {
                //节点类
                var head = null;
                //长度
                var length = 0;
                //节点类 表示要加入链表的项
                var Node = function (element) {
                    this.element = element
                    this.next = null
                }
                //链表尾部添加节点
                this.append = function (element) {
                    //创建节点
                    var node = new Node(element)
                    //当前项
                    var current
                    //如果链表为空
                    if (head === null) {
                        head = node
                    } else {
                        current = head
                        while (current.next) {
                            //向后移动
                            current = current.next
                        }
                        current.next = node
                    }
                    length++
                }
                //获取链表
                this.getHead = function () {
                    return head
                }
                //获取链表长度
                this.length = function () {
                    return length
                }
                //向链表特定位置插入元素
                this.appendTo = function (element, position) {
                    //检查是否越界
                    if (position >= 0 && position <= length) {
                        var node = new Node(element),
                            current = head,
                            previous,
                            index = 0;

                        if (position === 0) { //在第一个位置添加
                            node.next = current;
                            head = node;
                        } else {
                            while (index++ < position) {
                                previous = current;
                                current = current.next;
                            }
                            //通过改变指针，将node链接在previous和current之间
                            node.next = current;
                            previous.next = node;
                        }
                        length++;
                        return true;
                    } else {
                        return false;
                    }
                }
            }
    </script>
</body>

</html>